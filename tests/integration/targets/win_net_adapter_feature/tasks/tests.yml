# Below are the cases tested Windows Server 2016 with network adapters('Etherner0' and 'Ethernet1)
---
- name: fail when interface isn't set
  ansible.windows.win_net_adapter_feature:
    state: enabled
    component_id: ms_tcpip6
  ignore_errors: yes

- name: fail when component_id isn't set
  ansible.windows.win_net_adapter_feature:
    interface: 'Ethernet0'
    state: enabled
  ignore_errors: yes

- name: fail when interface doesn't exist
  ansible.windows.win_net_adapter_feature:
    interface: 'Ethernet10'
    state: enabled
    component_id: ms_tcpip6
  ignore_errors: yes

- name: fail when state is inapppropriate
  ansible.windows.win_net_adapter_feature:
    interface: 'Ethernet0'
    state: disabled_inappropriate
    component_id: ms_tcpip6
  ignore_errors: yes

- name: fail when component_id is inapppropriate
  ansible.windows.win_net_adapter_feature:
    interface: 'Ethernet0'
    state: disabled
    component_id: inappropriate_component
  ignore_errors: yes

- name: enable an interface of ms_tpip6 when state isn't set (because the default state is 'enabled')
  ansible.windows.win_net_adapter_feature:
    interface: 'Ethernet0'
    component_id: ms_tcpip6

- name: enable an interface of ms_tcpip6
  ansible.windows.win_net_adapter_feature:
    interface: 'Ethernet0'
    state: enabled
    component_id: ms_tcpip6

- name: disable an interface of ms_tcpip6
  ansible.windows.win_net_adapter_feature:
    interface: 'Ethernet0'
    state: disabled
    component_id: ms_tcpip6

- name: enable all the interfaces of ms_tcpip6
  ansible.windows.win_net_adapter_feature:
    interface: '*'
    state: enabled
    component_id: ms_tcpip6

- name: disable all the interfaces of ms_tcpip6
  ansible.windows.win_net_adapter_feature:
    interface: '*'
    state: disabled
    component_id: ms_tcpip6

- name: enable single component_id of multiple interface
  ansible.windows.win_net_adapter_feature:
    interface: 
    - 'Ethernet0'
    - 'Ethernet1'
    state: enabled
    component_id: ms_tcpip6

- name: disable multiple component_id of an interface 
  ansible.windows.win_net_adapter_feature:
    interface: 
    - 'Ethernet0'
    state: disabled
    component_id: 
    - ms_tcpip6
    - ms_server

- name: enable multiple interfaces of multiple interfaces
  ansible.windows.win_net_adapter_feature:
    interface: 
    - 'Ethernet0'
    - 'Ethernet1'
    state: enabled
    component_id: 
    - ms_tcpip6
    - ms_server

- name: check mode(disable multiple interfaces of multiple interfaces)
  ansible.windows.win_net_adapter_feature:
    interface: 
    - 'Ethernet0'
    - 'Ethernet1'
    state: disabled
    component_id: 
    - ms_tcpip6
    - ms_server
  check_mode: yes
